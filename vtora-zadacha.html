<!DOCTYPE html>
<html lang="bg">

<head>
    <meta charset="UTF-8">
    <title>Втора основна задача – GeoCalc</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;700&display=swap" rel="stylesheet">
    <link rel="icon" href="img/favicon.png">
    <style>
        .task-layout {
            display: flex;
            gap: 2em;
            margin: 2em auto;
            max-width: 1200px;
            padding: 0 2em;
        }

        .task-left,
        .task-right {
            background: #fff;
            padding: 2em;
            border-radius: 10px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
            flex: 1;
        }

        .task-left h2,
        .task-right h2 {
            color: #00b0ea;
            font-size: 1.2em;
            margin-bottom: 1em;
        }

        .form-group {
            margin-bottom: 1.2em;
        }

        label {
            font-weight: 600;
            display: block;
            margin-bottom: 0.4em;
        }

        input[type="number"] {
            width: 100%;
            padding: 0.6em;
            border: 1px solid #ccc;
            border-radius: 6px;
            font-size: 1em;
        }

        .btn-row {
            display: flex;
            gap: 1em;
            margin-top: 1.5em;
        }

        .btn-row button {
            flex: 1;
            padding: 0.6em 1em;
            border: none;
            background-color: #00b0ea;
            color: white;
            border-radius: 6px;
            font-size: 1em;
            cursor: pointer;
            transition: 0.3s;
        }

        .btn-row button:hover {
            background-color: #0096cc;
        }

        .output {
            font-family: monospace;
            white-space: pre-wrap;
            font-size: 0.9em;
            color: #333;
            background: #f8fdff;
            padding: 1em;
            border-radius: 8px;
            border: 1px solid #d0edf9;
        }

        h1 {
            font-size: 1.8em;
            font-weight: 800;
            margin: 1em 0 0.8em;
            color: #002244;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            text-align: center;
            padding-left: 0;
        }

        h1 i {
            color: #00c3ff;
            margin-right: 0.4em;
        }
    </style>
</head>

<body>

    <header class="main-header">
        <div class="header-left">
            <img src="geocalc.png" alt="GeoCalc Logo" class="logo" />
        </div>
        <nav class="header-nav">
            <a href="index.html">Начало</a>
            <a href="#">За нас</a>
            <a href="#">Цени</a>
            <a href="#">Контакти</a>
            <a href="#">Акаунт</a>
            <a href="#"><i class="fas fa-user"></i> Вход / Регистрация</a>
            <div class="theme-switch">
                <input type="checkbox" id="toggle-dark" />
                <label for="toggle-dark" class="switch-label">
                    <i class="fas fa-sun"></i>
                </label>
            </div>
        </nav>
    </header>

    <h1><i class="fas fa-compass"></i> Втора основна задача</h1>
    <div class="task-layout">
        <div class="task-left">
            <h2><i class="fas fa-edit"></i> Входни данни</h2>

            <div class="form-group">
                <label for="x1">X₁</label>
                <input type="number" id="x1" step="any">
            </div>
            <div class="form-group">
                <label for="y1">Y₁</label>
                <input type="number" id="y1" step="any">
            </div>
            <div class="form-group">
                <label for="x2">X₂</label>
                <input type="number" id="x2" step="any">
            </div>
            <div class="form-group">
                <label for="y2">Y₂</label>
                <input type="number" id="y2" step="any">
            </div>

            <div class="btn-row">
                <button onclick="calculate()">Изчисли</button>
                <button onclick="resetForm()">Изчисти</button>
            </div>
        </div>

        <div class="task-right">
            <h2><i class="fas fa-chart-line"></i> Резултати</h2>
            <div class="output" id="results">Въведете координатите и натиснете "Изчисли", за да видите резултатите тук.</div>
        </div>
    </div>

    <footer class="site-footer">
        <div class="container">
            <div class="footer-inner">
                <div class="footer-column">
                    <h4><i class="fas fa-link"></i> Бързи връзки</h4>
                    <a href="#">За нас</a>
                    <a href="#">Контакт</a>
                    <a href="#">Цени</a>
                </div>
                <div class="footer-column">
                    <h4><i class="fas fa-info-circle"></i> Информация</h4>
                    <a href="#">Политика за поверителност</a>
                    <a href="#">Общи условия</a>
                    <a href="#">Дисклеймър</a>
                </div>
                <div class="footer-column">
                    <h4><i class="fas fa-share-alt"></i> Последвайте ни</h4>
                    <a href="#"><i class="fab fa-instagram"></i> Instagram</a>
                    <a href="#"><i class="fab fa-linkedin"></i> LinkedIn</a>
                    <a href="#"><i class="fab fa-youtube"></i> YouTube</a>
                </div>
            </div>
            <div class="footer-bottom">
                <p>© GeoCalc, 2025. Всички права запазени. | Версия: <strong>v1.0.0</strong></p>
            </div>
        </div>
    </footer>

    <script>
        function vtoraOsnovnaZadacha(x1, y1, x2, y2) {
            const deltaX = x2 - x1;
            const deltaY = y2 - y1;
            const distance = Math.sqrt(deltaX ** 2 + deltaY ** 2);
            const tangens = deltaY / deltaX;
            const arctanTab = Math.atan(Math.abs(tangens)) * 200 / Math.PI;

            let quadrant, alpha;
            if (deltaY >= 0 && deltaX >= 0) {
                quadrant = 1;
                alpha = arctanTab;
            } else if (deltaY >= 0 && deltaX < 0) {
                quadrant = 2;
                alpha = 200 - arctanTab;
            } else if (deltaY < 0 && deltaX < 0) {
                quadrant = 3;
                alpha = 200 + arctanTab;
            } else {
                quadrant = 4;
                alpha = 400 - arctanTab;
            }

            return {
                deltaX, deltaY, tangens, arctanTab, quadrant, alpha, distance
            };
        }

        function calculate() {
            const x1 = parseFloat(document.getElementById("x1").value);
            const y1 = parseFloat(document.getElementById("y1").value);
            const x2 = parseFloat(document.getElementById("x2").value);
            const y2 = parseFloat(document.getElementById("y2").value);

            if ([x1, y1, x2, y2].some(isNaN)) {
                alert("Моля, попълнете всички полета.");
                return;
            }

            const res = vtoraOsnovnaZadacha(x1, y1, x2, y2);
            const output = `
X1 = ${x1}, Y1 = ${y1}
X2 = ${x2}, Y2 = ${y2}
-------------------------------------
ΔX = ${res.deltaX.toFixed(2)}
ΔY = ${res.deltaY.toFixed(2)}
tg = ${res.tangens.toFixed(6)}
arctg (таблично) = ${res.arctanTab.toFixed(4)} gon
Квадрант = ${res.quadrant}
-------------------------------------
α₁,₂ = ${res.alpha.toFixed(4)} gon
S₁,₂ = ${res.distance.toFixed(2)} m
            `;
            document.getElementById("results").textContent = output;
        }

        function resetForm() {
            ['x1', 'y1', 'x2', 'y2'].forEach(id => document.getElementById(id).value = '');
            document.getElementById("results").textContent = "Въведете координати и натиснете \"Изчисли\", за да видите резултатите тук.";
        }

        const toggle = document.getElementById('toggle-dark');
        const icon = document.querySelector('.switch-label i');
        toggle?.addEventListener('change', () => {
            document.body.classList.toggle('dark-mode');
            icon.classList.toggle('fa-sun');
            icon.classList.toggle('fa-moon');
        });
    </script>
</body>

</html>
